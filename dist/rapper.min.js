!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Rapper=t()}}(function(){return function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){"use strict";var n=t("httpify"),r=t("promise"),o=t("extend"),i=t("./lib/resource"),s=t("slasher"),u=function(t){this.attributes={},this.headers={},this.xhrs={},this.resources={},t&&(this.attributes.host=t)};u.prototype._addResource=function(t){this.resources[t.url()]=t},u.prototype.host=function(t){return t?(this.attributes.host=t,this):this.attributes.host},u.prototype._buildUrl=function(t,e){return e?this.attributes.host+s(t):s(t)},u.prototype.header=function(t,e){return e?(this.headers[t]=e,this):this.headers[t]},u.prototype.xhr=function(t,e){return e?(this.xhrs[t]=e,this):this.xhrs[t]},u.prototype._http=function(t,e,n){var r=this,i=this.resources[t],s={url:this._buildUrl(t,!0),method:e,type:"json"};return o(s,{headers:this.headers},this.xhrs,n),i?this.promise(function(t,e){i.beforeQueue.drain(function(n){return n?e(n):void r._request(s).then(t,e)})}):this._request(s)},u.prototype._request=function(t){return this.promise(function(e,r){n(t,function(t,n,o){return t||n.statusCode>=300||n.status>=300?r(t||n):void e(JSON.parse(o))})})},u.httpMethods=["GET","POST","PUT","DELETE","PATCH"],u.httpMethods.forEach(function(t){u.prototype[t.toLowerCase()]=function(e,n,r){return this._http(e,t,n,r)}}),u.prototype.resource=function(t,e){return i._create(t,e,{api:this})},u.prototype.promise=function(t){return new r(t)},e.exports=u},{"./lib/resource":2,extend:5,httpify:6,promise:12,slasher:20}],2:[function(t,e){"use strict";var n=t("extend"),r=t("slasher"),o=t("path"),i=t("qmap"),s=function(t,e){this.xhrs={},this.beforeQueue=new i(this),n(this,t,e)};s.prototype.url=function(t){return this.api._buildUrl(this.name,t)},s.prototype.one=function(t,e){return s._create(t,e,{type:"one",api:this.api,baseUrl:this.url()})},s.prototype.resource=function(t,e){return s._create(t,e,{type:"many",api:this.api,baseUrl:this.url()})},s.prototype.xhr=function(t,e){return e?(this.xhrs[t]=e,this):this.xhrs[t]},s.prototype.before=function(){this.beforeQueue.push(arguments)},s.many={get:function(){return this.api.get(this.url(),this.xhrs)},post:function(t){return this.api.post(this.url(),n(this.xhrs,{form:t}))},list:function(){return this.get()},create:function(t){return this.post(t)}},s.one={get:s.many.get,put:function(t){return this.api.put(this.url(),n(this.xhrs,{form:t}))},del:function(){return this.api.delete(this.url(),this.xhrs)},update:function(t){return this.put(t)},remove:function(){return this.del()}},s._create=function(t,e,i){var u={},f=o.join(i.baseUrl||"/",r(t)),c=i.api;if(n(u,s[i.type||"many"],e),c.resources[f])return c.resources[f];var a=new s({name:f,api:c},u);return c.resources[a.url()]=a,a},e.exports=s},{extend:5,path:4,qmap:14,slasher:20}],3:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,o="/"===s.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(t){var o=n.isAbsolute(t),i="/"===s(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),s=Math.min(o.length,i.length),u=s,f=0;s>f;f++)if(o[f]!==i[f]){u=f;break}for(var c=[],f=u;f<o.length;f++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],5:[function(t,e){function n(t){if(!t||"[object Object]"!==o.call(t)||t.nodeType||t.setInterval)return!1;var e=r.call(t,"constructor"),n=r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!n)return!1;var i;for(i in t);return void 0===i||r.call(t,i)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=function i(){var t,e,r,o,s,u,f=arguments[0]||{},c=1,a=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},c=2),"object"!=typeof f&&"function"!=typeof f&&(f={});a>c;c++)if(null!=(t=arguments[c]))for(e in t)r=f[e],o=t[e],f!==o&&(p&&o&&(n(o)||(s=Array.isArray(o)))?(s?(s=!1,u=r&&Array.isArray(r)?r:[]):u=r&&n(r)?r:{},f[e]=i(p,u,o)):void 0!==o&&(f[e]=o));return f}},{}],6:[function(t,e){e.exports=t("request")},{request:7}],7:[function(t,e){var n=t("xhr");e.exports=function(t,e){return e=e||function(){},t.data&&!window&&(t.form=t.data),t.form&&window&&(t.body="object"==typeof t.form?JSON.stringify(t.form):t.form),t.data&&(t.body="object"==typeof t.data?JSON.stringify(t.data):t.data),t.url&&window&&(t.uri=t.url),window&&(t.cors=t.withCredentials),n(t,e)}},{xhr:8}],8:[function(t,e){function n(t,e){function n(){4===a.readyState&&o()}function o(){var t=null,n=a.statusCode=a.status,r=a.body=a.response||a.responseText||a.responseXML;if(0===n||n>=400&&600>n){var o=a.responseText||s[String(a.status).charAt(0)];t=new Error(o),t.statusCode=a.status}if(m)try{r=a.body=JSON.parse(r)}catch(i){}e(t,a,r)}function c(t){e(t,a)}"string"==typeof t&&(t={uri:t}),t=t||{},e=i(e);var a;a=t.cors?new f:new u;var p=a.url=t.uri,l=a.method=t.method||"GET",h=t.body||t.data,d=a.headers=t.headers||{},y=!!t.sync,m=!1;return"json"in t&&(m=!0,d["Content-Type"]="application/json",h=JSON.stringify(t.json)),a.onreadystatechange=n,a.onload=o,a.onerror=c,a.onprogress=function(){},a.ontimeout=r,a.open(l,p,!y),t.cors&&(a.withCredentials=!0),y||(a.timeout="timeout"in t?t.timeout:5e3),a.setRequestHeader&&Object.keys(d).forEach(function(t){a.setRequestHeader(t,d[t])}),a.send(h),a}function r(){}var o=t("global/window"),i=t("once"),s={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},u=o.XMLHttpRequest||r,f="withCredentials"in new u?o.XMLHttpRequest:o.XDomainRequest;e.exports=n},{"global/window":9,once:10}],9:[function(t,e){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:{}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e){function n(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],11:[function(t,e){"use strict";function n(t){function e(t){return null===c?void p.push(t):void i(function(){var e=c?t.onFulfilled:t.onRejected;if(null===e)return void(c?t.resolve:t.reject)(a);var n;try{n=e(a)}catch(r){return void t.reject(r)}t.resolve(n)})}function s(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void o(e.bind(t),s,u)}c=!0,a=t,f()}catch(n){u(n)}}function u(t){c=!1,a=t,f()}function f(){for(var t=0,n=p.length;n>t;t++)e(p[t]);p=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var c=null,a=null,p=[],l=this;this.then=function(t,o){return new n(function(n,i){e(new r(t,o,n,i))})},o(t,s,u)}function r(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function o(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}}var i=t("asap");e.exports=n},{asap:13}],12:[function(t,e){"use strict";function n(t){this.then=function(e){return"function"!=typeof e?this:new r(function(n,r){o(function(){try{n(e(t))}catch(o){r(o)}})})}}var r=t("./core.js"),o=t("asap");e.exports=r,n.prototype=Object.create(r.prototype);var i=new n(!0),s=new n(!1),u=new n(null),f=new n(void 0),c=new n(0),a=new n("");r.from=r.cast=function(t){if(t instanceof r)return t;if(null===t)return u;if(void 0===t)return f;if(t===!0)return i;if(t===!1)return s;if(0===t)return c;if(""===t)return a;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new r(e.bind(t))}catch(o){return new r(function(t,e){e(o)})}return new n(t)},r.denodeify=function(t,e){return e=e||1/0,function(){var n=this,o=Array.prototype.slice.call(arguments);return new r(function(r,i){for(;o.length&&o.length>e;)o.pop();o.push(function(t,e){t?i(t):r(e)}),t.apply(n,o)})}},r.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null;try{return t.apply(this,arguments).nodeify(n)}catch(i){if(null===n||"undefined"==typeof n)return new r(function(t,e){e(i)});o(function(){n(i)})}}},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new r(function(e,n){function r(i,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(t){r(i,t)},n)}t[i]=s,0===--o&&e(t)}catch(f){n(f)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},r.prototype.done=function(){var t=arguments.length?this.then.apply(this,arguments):this;t.then(null,function(t){o(function(){throw t})})},r.prototype.nodeify=function(t){return null===t||"undefined"==typeof t?this:void this.then(function(e){o(function(){t(null,e)})},function(e){o(function(){t(e)})})},r.prototype.catch=function(t){return this.then(null,t)},r.resolve=function(t){return new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.map(function(t){r.cast(t).then(e,n)})})}},{"./core.js":11,asap:13}],13:[function(t,e){(function(t){function n(){for(;o.next;){o=o.next;var t=o.task;o.task=void 0;var e=o.domain;e&&(o.domain=void 0,e.enter());try{t()}catch(r){if(f)throw e&&e.exit(),setTimeout(n,0),e&&e.enter(),r;setTimeout(function(){throw r},0)}e&&e.exit()}s=!1}function r(e){i=i.next={task:e,domain:f&&t.domain,next:null},s||(s=!0,u())}var o={task:void 0,next:null},i=o,s=!1,u=void 0,f=!1;if("undefined"!=typeof t&&t.nextTick)f=!0,u=function(){t.nextTick(n)};else if("function"==typeof setImmediate)u="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=n,u=function(){c.port2.postMessage(0)}}else u=function(){setTimeout(n,0)};e.exports=r}).call(this,t("/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],14:[function(t,e){var n=t("flatten"),r=t("drainer"),o=t("lodash.isarguments"),i=function(t){this._items=[],this._methods={},this._context=t};i.prototype.method=function(t,e){this._methods[t]=e},i.prototype.push=function(){var t=this._context,e=[].slice.call(arguments,0);n(e.map(function(t){return o(t)?[].slice.call(t,0):t})).forEach(function(e){"string"==typeof e&&(e=this._methods[e]);var n=t?e.bind(t):e;this._items.push(n)},this)},i.prototype.drain=function(){var t=r(this._items),e=[].slice.call(arguments,0),n=e.pop();e.push(function(t){n?n(t):function(){}}),t.apply(t,e)},e.exports=i},{drainer:15,flatten:18,"lodash.isarguments":19}],15:[function(t,e){var n=t("as-array"),r=function(t){return function(){var e=n(arguments),r=e.pop();o(t,[],r,e)}},o=function(t,e,n,r){var i=t.shift();return e=e?r.concat(e):r,i?(e.push(function(){var e=[].slice.call(arguments),i=e.shift();return i?n(i):void o(t,e,n,r)}),void i.apply(i,e)):n.apply(n,[null].concat(e))};e.exports=r},{"as-array":16}],16:[function(t,e){var n=t("is-args");e.exports=function(t){return t||(t=[]),n(t)&&(t=[].splice.call(t,0)),Array.isArray(t)?t:[t]}},{"is-args":17}],17:[function(t,e){e.exports=function(t){return!!t&&"number"==typeof t.length&&"function"==typeof t.callee}},{}],18:[function(t,e){e.exports=function(t,e){function n(t,r){return t.reduce(function(t,o){return t.concat(Array.isArray(o)&&e>r?n(o,r+1):o)},[])}return e="number"==typeof e?e:1/0,n(t,1)}},{}],19:[function(t,e){function n(t){return t&&"object"==typeof t&&"number"==typeof t.length&&i.call(t)==r||!1}var r="[object Arguments]",o=Object.prototype,i=o.toString;e.exports=n},{}],20:[function(t,e){function n(t){return s(i("/",t))}function r(t,e){var r={},o=Object.keys(t),i=o.length,s=0;for(s;i>s;s+=1){var u=o[s],f=e.key===!1?u:n(u),c=t[u];r[f]=e.value===!1?c:n(c)}return r}var o=t("path"),i=o.join,s=o.normalize,u=e.exports=function(t){return options=arguments[1]||{},"string"==typeof t?n(t):"number"==typeof t?n(t+""):"object"==typeof t?r(t,options):t};e.exports=u},{path:4}]},{},[1])(1)});