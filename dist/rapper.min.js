!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Rapper=e()}}(function(){var define,module,exports;return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!u&&a)return a(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t){var n=e("httpify"),r=e("promise"),o=e("extend"),s=e("./lib/resource"),i=e("slasher"),u=function(){this.attributes={},this.headers={},this.xhrs={},this.resources={}};u.prototype._addResource=function(e){this.resources[e.url()]=e},u.prototype._setValue=function(e,t){this.attributes[e]=t},u.prototype._getValue=function(e){return this.attributes[e]},u.prototype.host=function(e){return e?(this._setValue("host",e),this):this._getValue("host")},u.prototype._buildUrl=function(e,t){return t?this._getValue("host")+i(e):i(e)},u.prototype.header=function(e,t){return t?(this.headers[e]=t,this):this.headers[e]},u.prototype.xhr=function(e,t){return t?(this.xhrs[e]=t,this):this.xhrs[e]},u.prototype._http=function(e,t,n){var r=this,s=this.resources[e],i={url:this._buildUrl(e,!0),method:t,type:"json"};return o(i,{headers:this.headers},this.xhrs,n),s?this.promise(function(e,t){s.beforeQueue.drain(function(n){return n?t(n):void r._request(i).then(e,t)})}):this._request(i)},u.prototype._request=function(e){return this.promise(function(t,r){n(e,function(e,n,o){return e||n.statusCode>=300||n.status>=300?r(e||n):void t(JSON.parse(o))})})},u.httpMethods=["GET","POST","PUT","DELETE","PATCH"],u.httpMethods.forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n,r){return this._http(t,e,n,r)}}),u.prototype.resource=function(e,t){return s._create(e,t,{api:this})},u.prototype.promise=function(e){return new r(e)},t.exports=u},{"./lib/resource":2,extend:5,httpify:6,promise:10,slasher:17}],2:[function(e,t){var n=e("extend"),r=e("slasher"),o=e("path"),s=e("qmap"),i=function(e,t){this.xhrs={},this.beforeQueue=new s(this),n(this,e,t)};i.prototype.url=function(e){return this.api._buildUrl(this.name,e)},i.prototype.one=function(e,t){return i._create(e,t,{type:"one",api:this.api,baseUrl:this.url()})},i.prototype.resource=function(e,t){return i._create(e,t,{type:"many",api:this.api,baseUrl:this.url()})},i.prototype.xhr=function(e,t){return t?(this.xhrs[e]=t,this):this.xhrs[e]},i.prototype.before=function(){this.beforeQueue.push(arguments)},i.many={get:function(){return this.api.get(this.url(),this.xhrs)},post:function(e){return this.api.post(this.url(),n(this.xhrs,{form:e}))},list:function(){return this.get()},create:function(e){return this.post(e)}},i.one={get:i.many.get,put:function(e){return this.api.put(this.url(),n(this.xhrs,{form:e}))},del:function(){return this.api.delete(this.url(),this.xhrs)},update:function(e){return this.put(e)},remove:function(){return this.del()}},i._create=function(e,t,s){var u={},a=o.join(s.baseUrl||"/",r(e)),l=s.api;if(n(u,i[s.type||"many"],t),l.resources[a])return l.resources[a];var c=new i({name:a,api:l},u);return l.resources[c.url()]=c},t.exports=i},{extend:5,path:4,qmap:12,slasher:17}],3:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,o="/"===i.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),s="/"===i(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),s=r(t.split("/")),i=Math.min(o.length,s.length),u=i,a=0;i>a;a++)if(o[a]!==s[a]){u=a;break}for(var l=[],a=u;a<o.length;a++)l.push("..");return l=l.concat(s.slice(u)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=s(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=s(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return s(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("/Users/scott/www/modules/narrator/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/narrator/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],5:[function(e,t){function n(e){if(!e||"[object Object]"!==o.call(e)||e.nodeType||e.setInterval)return!1;var t=r.call(e,"constructor"),n=r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var s;for(s in e);return void 0===s||r.call(e,s)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=function s(){var e,t,r,o,i,u,a=arguments[0]||{},l=1,c=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[1]||{},l=2),"object"!=typeof a&&"function"!=typeof a&&(a={});c>l;l++)if(null!=(e=arguments[l]))for(t in e)r=a[t],o=e[t],a!==o&&(f&&o&&(n(o)||(i=Array.isArray(o)))?(i?(i=!1,u=r&&Array.isArray(r)?r:[]):u=r&&n(r)?r:{},a[t]=s(f,u,o)):void 0!==o&&(a[t]=o));return a}},{}],6:[function(e,t){t.exports=e("request")},{request:7}],7:[function(e,t){var n=e("reqwest");t.exports=function(e,t){try{e.body&&(e.data=JSON.parse(e.body))}catch(r){}return e.form&&(e.data=e.form),e.type=e.type||"json",e.error=function(e){t(e)},e.success=function(e){var n=e.self||e;t(null,n,n)},n(e)}},{reqwest:8}],8:[function(_dereq_,module,exports){!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,twoHundo.test(e.request.status)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"],t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,s=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),u=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),a=r.match(u),l=doc.createElement("script"),c=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return a?"?"===a[3]?r=r.replace(u,"$1="+i):i=a[3]:r=urlappend(r,s+"="+i),win[i]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(c=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),s="string"==typeof r?r:r.url,i=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,u=!1;return"jsonp"!=r.type&&"GET"!=o||!i||(s=urlappend(s,i),i=null),"jsonp"==r.type?handleJsonp(r,e,t,s):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,s,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},u=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),u?setTimeout(function(){n.send(i)},200):n.send(i),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,s,i=e.name,u=e.tagName.toLowerCase(),a=function(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&i)switch(u){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(i,normalize(n&&""===o?"on":o)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())a(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&a(e.options[s])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,o,s;for(r=0;r<t.length;r++)for(s=e[byTag](t[r]),o=0;o<s.length;o++)serial(s[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,s,i,u=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)i=t[s],n||u.test(e)?r(e,i):buildParams(e+"["+("object"==typeof i?s:"")+"]",i,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,s=[],i=encodeURIComponent,u=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=i(e)+"="+i(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)u(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,u);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},{}],9:[function(e,t){"use strict";function n(e){function t(e){return null===l?void f.push(e):void s(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(c);var n;try{n=t(c)}catch(r){return void e.reject(r)}e.resolve(n)})}function i(e){try{if(e===p)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void o(t.bind(e),i,u)}l=!0,c=e,a()}catch(n){u(n)}}function u(e){l=!1,c=e,a()}function a(){for(var e=0,n=f.length;n>e;e++)t(f[e]);f=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,c=null,f=[],p=this;this.then=function(e,o){return new n(function(n,s){t(new r(e,o,n,s))})},o(e,i,u)}function r(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function o(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}var s=e("asap");t.exports=n},{asap:11}],10:[function(e,t){"use strict";function n(e){this.then=function(t){return"function"!=typeof t?this:new r(function(n,r){o(function(){try{n(t(e))}catch(o){r(o)}})})}}var r=e("./core.js"),o=e("asap");t.exports=r,n.prototype=Object.create(r.prototype);var s=new n(!0),i=new n(!1),u=new n(null),a=new n(void 0),l=new n(0),c=new n("");r.from=r.cast=function(e){if(e instanceof r)return e;if(null===e)return u;if(void 0===e)return a;if(e===!0)return s;if(e===!1)return i;if(0===e)return l;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(o){return new r(function(e,t){t(o)})}return new n(e)},r.denodeify=function(e,t){return t=t||1/0,function(){var n=this,o=Array.prototype.slice.call(arguments);return new r(function(r,s){for(;o.length&&o.length>t;)o.pop();o.push(function(e,t){e?s(e):r(t)}),e.apply(n,o)})}},r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null;try{return e.apply(this,arguments).nodeify(n)}catch(s){if(null===n||"undefined"==typeof n)return new r(function(e,t){t(s)});o(function(){n(s)})}}},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new r(function(t,n){function r(s,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(e){r(s,e)},n)}e[s]=i,0===--o&&t(e)}catch(a){n(a)}}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)r(s,e[s])})},r.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(e){o(function(){throw e})})},r.prototype.nodeify=function(e){return null===e||"undefined"==typeof e?this:void this.then(function(t){o(function(){e(null,t)})},function(t){o(function(){e(t)})})},r.prototype.catch=function(e){return this.then(null,e)},r.resolve=function(e){return new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.map(function(e){r.cast(e).then(t,n)})})}},{"./core.js":9,asap:11}],11:[function(e,t){(function(e){function n(){for(;o.next;){o=o.next;var e=o.task;o.task=void 0;var t=o.domain;t&&(o.domain=void 0,t.enter());try{e()}catch(r){if(a)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),r;setTimeout(function(){throw r},0)}t&&t.exit()}i=!1}function r(t){s=s.next={task:t,domain:a&&e.domain,next:null},i||(i=!0,u())}var o={task:void 0,next:null},s=o,i=!1,u=void 0,a=!1;if("undefined"!=typeof e&&e.nextTick)a=!0,u=function(){e.nextTick(n)};else if("function"==typeof setImmediate)u="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=n,u=function(){l.port2.postMessage(0)}}else u=function(){setTimeout(n,0)};t.exports=r}).call(this,e("/Users/scott/www/modules/narrator/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/narrator/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],12:[function(e,t){var n=e("flatten"),r=e("drainer"),o=function(e){this._items=[],this._methods={},this._context=e};o.prototype.method=function(e,t){this._methods[e]=t},o.prototype.push=function(){var e=this._context,t=[].slice.call(arguments,0);n(t.map(function(e){return e.callee?[].slice.call(e,0):e})).forEach(function(t){"string"==typeof t&&(t=this._methods[t]);var n=e?t.bind(e):t;this._items.push(n)},this)},o.prototype.drain=function(){var e=r(this._items),t=[].slice.call(arguments,0),n=t.pop();t.push(function(e){n?n(e):function(){}}),e.apply(e,t)},t.exports=o},{drainer:13,flatten:16}],13:[function(e,t){var n=e("as-array"),r=function(e){return function(){var t=n(arguments),r=t.pop();o(e,[],r,t)}},o=function(e,t,n,r){var s=e.shift();return t=t?r.concat(t):r,s?(t.push(function(){var t=[].slice.call(arguments),s=t.shift();return s?n(s):void o(e,t,n,r)}),void s.apply(s,t)):n.apply(n,[null].concat(t))};t.exports=r},{"as-array":14}],14:[function(e,t){var n=e("is-args");t.exports=function(e){return e||(e=[]),n(e)&&(e=[].splice.call(e,0)),Array.isArray(e)?e:[e]}},{"is-args":15}],15:[function(e,t){t.exports=function(e){return!!e&&"number"==typeof e.length&&"function"==typeof e.callee}},{}],16:[function(e,t){t.exports=function(e,t){function n(e,r){return e.reduce(function(e,o){return e.concat(Array.isArray(o)&&t>r?n(o,r+1):o)},[])}return t="number"==typeof t?t:1/0,n(e,1)}},{}],17:[function(e,t){function n(e){return i(s("/",e))}function r(e,t){var r={},o=Object.keys(e),s=o.length,i=0;for(i;s>i;i+=1){var u=o[i],a=t.key===!1?u:n(u),l=e[u];r[a]=t.value===!1?l:n(l)}return r}var o=e("path"),s=o.join,i=o.normalize,u=t.exports=function(e){return options=arguments[1]||{},"string"==typeof e?n(e):"number"==typeof e?n(e+""):"object"==typeof e?r(e,options):e};t.exports=u},{path:4}]},{},[1])(1)});